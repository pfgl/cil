+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.5",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),function(a){var b={init:function(){this.bindEvents(),this.setServiceIconHeight(),a("iframe").each(function(){var b=a(this).attr("src");a(this).attr("src",b+"?wmode=transparent")}),this.checkForArchiveLinks()},bindEvents:function(){},setServiceIconHeight:function(){if(a(".services").length){var b=a(".services__icon").width();a(".services__icon").height(b)}},checkForArchiveLinks:function(){a(".tags--monthly")&&(pathname=window.location.pathname,a(".tags--monthly a").each(function(){var b=a(this).attr("href"),c=b.split("/"),d=c[3],e=c[4];a(this).attr("href",pathname+"?date="+d+"/"+e)}))},googleMaps:{init:function(){var a=document.getElementById("map"),b={lat:51.514695,lng:-.086219701},c={center:b,zoom:16,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},d=new google.maps.Map(a,c);d.set("styles",[{featureType:"all",elementType:"geometry",stylers:[{saturation:-100}]},{featureType:"road",elementType:"labels",stylers:[{saturation:-100}]}]);var e=window.location.hostname,f={url:"http://"+e+"/tim-assets/themes/tatton/assets/img/marker.svg",size:new google.maps.Size(40,66),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,66)},g=new google.maps.Marker({position:b,map:d,icon:f,url:"https://www.google.co.uk/maps/place/London+EC2N+1AR/@51.5145907,-0.0884503,17z/data=!3m1!4b1!4m2!3m1!1s0x48761cacd516d8b9:0xb2316b0662107b7b"});google.maps.event.addListener(g,"click",function(){window.open(this.url,"_blank")})}}};a(window).resize(function(){a(window).width()<768&&a(".dropdown-toggle").on("click",function(){a(this).next().toggle()})}),a(window).load(function(){if(a("#map").length&&b.googleMaps.init(),a(window).width()<768&&a(".dropdown-toggle").on("click",function(){a(this).next().toggle()}),a(".icon").length){var c=a(".icon").width();a(".icon").height(c)}a(".portfolio").last().addClass("mb-lg")}),a(window).scroll(function(){}),b.init()}(jQuery);
