function updateViewportDimensions(){"use strict";var e=window,i=document,t=i.documentElement,n=i.getElementsByTagName("body")[0],o=e.innerWidth||t.clientWidth||n.clientWidth,s=e.innerHeight||t.clientHeight||n.clientHeight;return{width:o,height:s}}function selectThis(e){"use strict";jQuery(".ifa-details").fadeOut(500),jQuery("#details-"+e).delay(500).fadeIn(500)}var viewport=updateViewportDimensions(),waitForFinalEvent=function(){"use strict";var e={};return function(i,t,n){n||(n="Don't call this twice without a uniqueId"),e[n]&&clearTimeout(e[n]),e[n]=setTimeout(i,t)}},timeToWaitForLast=100;jQuery(document).ready(function(e){"use strict";viewport=updateViewportDimensions(),viewport.width<=768&&(e(".menu-item-has-children").on("tap",function(){e(".sub-menu").slideUp(100),e(".menu-item").removeClass("tapped"),e(this).children(".sub-menu").delay(100).slideDown(200),e(this).addClass("tapped")}),e(".sub-menu").css({width:viewport.width})),viewport.width>=768&&e(".menu-item-has-children").hover(function(){e(this).children(".sub-menu").slideDown(200)},function(){e(this).children(".sub-menu").slideUp(200)});var i=e.cookie("pfglcookie");null===i&&(e(".cookie_layer").show(),e.cookie("pfglcookie","yes",{expires:365,path:"/"})),e.cookie("pfglcookie","yes",{expires:365,path:"/"}),e(".bullet").hover(function(){e(this).addClass("active"),e(this).children(".map-logo").fadeIn(200)},function(){e(this).removeClass("active"),e(this).children(".map-logo").fadeOut(200)}),e(".banner").hover(function(){var i=e(this).find("img").attr("src");e(this).css({background:"url("+i+") no-repeat center bottom"}),e(this).find("img").stop().fadeTo("normal",0,function(){e(this).hide()})},function(){e(this).find("img").stop().fadeTo("normal",1).show()})});
+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),a=n.data("bs.collapse"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!a&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),a||n.data("bs.collapse",a=new i(this,s)),"string"==typeof e&&a[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(e=a.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){a&&a.length&&(n.call(a,"hide"),e||a.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var l=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return l.call(this);var r=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(l,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][r])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION):a.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var a=t(i);this.addAriaAndCollapsedClass(e(a),a)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var a=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var a=t(this);a.attr("data-target")||i.preventDefault();var s=e(a),o=s.data("bs.collapse"),l=o?"toggle":a.data();n.call(s,l)})}(jQuery),function(t){var e={init:function(){this.bindEvents(),this.setServiceIconHeight(),t("iframe").each(function(){var e=t(this).attr("src");t(this).attr("src",e+"?wmode=transparent")}),this.checkForArchiveLinks()},bindEvents:function(){},setServiceIconHeight:function(){if(t(".services").length){var e=t(".services__icon").width();t(".services__icon").height(e)}},checkForArchiveLinks:function(){t(".tags--monthly")&&(pathname=window.location.pathname,t(".tags--monthly a").each(function(){var e=t(this).attr("href"),n=e.split("/"),i=n[3],a=n[4];t(this).attr("href",pathname+"?date="+i+"/"+a)}))},googleMaps:{init:function(){var t=document.getElementById("map"),e={lat:51.514695,lng:-.086219701},n={center:e,zoom:16,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(t,n);i.set("styles",[{featureType:"all",elementType:"geometry",stylers:[{saturation:-100}]},{featureType:"road",elementType:"labels",stylers:[{saturation:-100}]}]);var a=window.location.hostname,s={url:"http://"+a+"/tim-assets/themes/tatton/assets/img/marker.svg",size:new google.maps.Size(40,66),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,66)},o=new google.maps.Marker({position:e,map:i,icon:s,url:"https://www.google.co.uk/maps/place/London+EC2N+1AR/@51.5145907,-0.0884503,17z/data=!3m1!4b1!4m2!3m1!1s0x48761cacd516d8b9:0xb2316b0662107b7b"});google.maps.event.addListener(o,"click",function(){window.open(this.url,"_blank")})}}};t(window).resize(function(){t(window).width()<768&&t(".dropdown-toggle").on("click",function(){t(this).next().toggle()})}),t(window).load(function(){if(t("#map").length&&e.googleMaps.init(),t(window).width()<768&&t(".dropdown-toggle").on("click",function(){t(this).next().toggle()}),t(".icon").length){var n=t(".icon").width();t(".icon").height(n)}t(".portfolio").last().addClass("mb-lg")}),t(window).scroll(function(){}),e.init()}(jQuery);
+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),a=n.data("bs.collapse"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!a&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),a||n.data("bs.collapse",a=new i(this,s)),"string"==typeof e&&a[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,a=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(a&&a.length&&(e=a.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){a&&a.length&&(n.call(a,"hide"),e||a.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var l=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return l.call(this);var r=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(l,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][r])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION):a.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var a=t(i);this.addAriaAndCollapsedClass(e(a),a)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var a=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=a,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var a=t(this);a.attr("data-target")||i.preventDefault();var s=e(a),o=s.data("bs.collapse"),l=o?"toggle":a.data();n.call(s,l)})}(jQuery),function(t){var e={init:function(){this.bindEvents(),this.setServiceIconHeight(),t("iframe").each(function(){var e=t(this).attr("src");t(this).attr("src",e+"?wmode=transparent")}),this.checkForArchiveLinks()},bindEvents:function(){},setServiceIconHeight:function(){if(t(".services").length){var e=t(".services__icon").width();t(".services__icon").height(e)}},checkForArchiveLinks:function(){t(".tags--monthly")&&(pathname=window.location.pathname,t(".tags--monthly a").each(function(){var e=t(this).attr("href"),n=e.split("/"),i=n[3],a=n[4];t(this).attr("href",pathname+"?date="+i+"/"+a)}))},googleMaps:{init:function(){var t=document.getElementById("map"),e={lat:51.514695,lng:-.086219701},n={center:e,zoom:16,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(t,n);i.set("styles",[{featureType:"all",elementType:"geometry",stylers:[{saturation:-100}]},{featureType:"road",elementType:"labels",stylers:[{saturation:-100}]}]);var a=window.location.hostname,s={url:"http://"+a+"/tim-assets/themes/tatton/assets/img/marker.svg",size:new google.maps.Size(40,66),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,66)},o=new google.maps.Marker({position:e,map:i,icon:s,url:"https://www.google.co.uk/maps/place/London+EC2N+1AR/@51.5145907,-0.0884503,17z/data=!3m1!4b1!4m2!3m1!1s0x48761cacd516d8b9:0xb2316b0662107b7b"});google.maps.event.addListener(o,"click",function(){window.open(this.url,"_blank")})}}};t(window).resize(function(){t(window).width()<768&&t(".dropdown-toggle").on("click",function(){t(this).next().toggle()})}),t(window).load(function(){if(t("#map").length&&e.googleMaps.init(),t(window).width()<768&&t(".dropdown-toggle").on("click",function(){t(this).next().toggle()}),t(".icon").length){var n=t(".icon").width();t(".icon").height(n)}t(".portfolio").last().addClass("mb-lg")}),t(window).scroll(function(){}),e.init()}(jQuery);
